# Configuration file for the Chess From Zero bot
# OPTIMIZED FOR SAFETY - Reduced detection risk

[play]
# Controls the basic behavior and game mode of the bot.

# Game mode to play (Rapid, Blitz, or Bullet).
mode = Rapid
# Whether to run the browser in the background (true) or show it on screen (false).
headless = false
# If true, the bot will automatically execute moves. If false, it will only highlight the suggested move.
auto_move = true
# If true, the bot will automatically start a new game after one finishes.
auto_play = true
# Number of games to play automatically. Set to 0 for unlimited.
# SAFETY: Play 2-5 games max per session, then take a break!
num_games = 10
# If true, the bot will use the advanced time management system to vary its thinking time.
advanced_time_management = true

[opening_book]
# Controls the use of Polyglot opening books.

# If true, the bot will use opening books from the specified directory.
enabled = true
# The folder where you store your .bin opening book files.
directory = opening_books

[delays]
# Configures the delay between games to simulate human behavior.
# SAFETY: Longer delays = more human-like = SAFER

# Min/Max delay (in seconds) after a Rapid game.
min_rapid_delay_seconds = 60
max_rapid_delay_seconds = 120

# Min/Max delay (in seconds) after a Blitz game.
min_blitz_delay_seconds = 30
max_blitz_delay_seconds = 90

# Min/Max delay (in seconds) after a Bullet game.
min_bullet_delay_seconds = 15
max_bullet_delay_seconds = 45

[engine_settings]
# Core settings for the Stockfish chess engine.

# Must be true to enable Elo-based strength limitation.
UCI_LimitStrength = true
# Target playing strength equivalent to this Elo rating. (Range: 1320-3190)
# SAFETY: 1320-1400 = safer, more human-like for casual play
UCI_Elo = 1350
# Internal skill level of the engine (0-20). Ignored when UCI_LimitStrength=true.
Skill Level = 20
# The engine's reluctance to accept a draw. Positive values are more aggressive.
Contempt = 10
# Number of CPU cores for the engine to use.
Threads = 4
# Memory (in MB) allocated for the transposition table (position cache).
Hash = 256
# Number of best moves to analyze. Must be >= 2 for blunder logic to work.
# SAFETY: MultiPV=3 gives more move options for realistic variation
MultiPV = 3

[dynamic_depth]
# Sets the engine's search depth range based on the game phase.
# SAFETY: Wider ranges = more variation = more human-like

# Min/Max depth for the opening phase.
opening_min = 5
opening_max = 10

# Min/Max depth for the middlegame phase.
middlegame_min = 7
middlegame_max = 12

# Min/Max depth for the endgame phase.
endgame_min = 10
endgame_max = 15

[nodes_limit]
# Limits the engine's search by the number of positions (nodes) analyzed to add variety.
# SAFETY: Wider range = more realistic thinking time variation

# Min/Max number of nodes to analyze per move.
min = 30000
max = 150000

[blunder_logic]
# Controls the human-like blunder feature.
# SAFETY: Higher blunder rate = MORE HUMAN-LIKE = SAFER

# If true, enables the possibility of choosing the second-best move.
enabled = true
# The maximum score difference (in centipawns, 100cp = 1 pawn) to consider making a blunder.
# SAFETY: 150cp = realistic for 1300-1400 Elo casual players
max_score_diff_cp = 150
# The probability range (e.g., 0.10 = 10%) of making a blunder if the score difference is within the limit.
# SAFETY: 10-60% chance = casual player blunder rate
min_blunder_chance = 0.10
max_blunder_chance = 0.60

[human_delays]
# Phase 2: Human-like thinking delays with exponential distribution
# SAFETY: Variable thinking times make bot indistinguishable from humans
# NOTE: Delays are automatically scaled based on game mode (Bullet/Blitz/Rapid)

# Enable exponential distribution for thinking time
enabled = true
# Base thinking time range (in seconds) - OPTIMIZED FOR SPEED
# Bullet: 0.2-2s, Blitz: 0.3-4s, Rapid: 0.5-15s
min_base_thinking_time = 0.5
max_base_thinking_time = 2.5
# Lambda parameter for exponential distribution (higher = faster decay)
# Higher value = more quick moves, fewer long pauses
exponential_lambda = 0.7
# Occasional "deep thought" pause probability (0.0-1.0)
# REDUCED for faster play:
#   Bullet: 0.5% chance, max 3s
#   Blitz: 1.5% chance, max 6s
#   Rapid: 5% chance, max 30s
deep_thought_probability = 0.05
# Deep thought duration range (in seconds) - only used for Rapid
min_deep_thought_duration = 10.0
max_deep_thought_duration = 30.0

[idle_actions]
# Phase 3: Random mouse movements during opponent's turn
# SAFETY: Simulates human checking other tabs, moving mouse, etc.

# Enable idle actions during opponent's turn
enabled = true
# Probability of performing an idle action (0.0-1.0)
action_probability = 0.25
# Types: random_move, tab_check, piece_hover, board_scan
action_types = random_move,piece_hover,board_scan

[viewport]
# Phase 4: Viewport and screen positioning randomization
# SAFETY: Prevents browser fingerprinting

# Randomize window size on each session
randomize_window_size = true
# Allowed window width range
min_window_width = 1366
max_window_width = 1920
# Allowed window height range
min_window_height = 768
max_window_height = 1080
# Randomize viewport zoom level (80-120%)
randomize_zoom = true

[typing_patterns]
# Phase 5: Human-like typing patterns and interactions
# SAFETY: Natural typing speed and mistakes during login/chat

# Enable human-like typing
enabled = true
# Characters per minute (average human speed)
min_typing_speed_cpm = 180
max_typing_speed_cpm = 350
# Probability of making a typo (0.0-1.0)
typo_probability = 0.05
# Delay before correcting typo (in seconds)
min_correction_delay = 0.3
max_correction_delay = 1.2
